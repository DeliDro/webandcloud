<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>TinyGram - Compte Utilisateur</title>
    <meta name="google-signin-scope" content="profile email">
    <meta name="google-signin-client_id" content="1000529978221-24nk2p3p1o1efm3uapb1rc800939tma4.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.js" integrity="sha512-RT3IJsuoHZ2waemM8ccCUlPNdUuOn8dJCH46N3H2uZoY7swMn1Yn7s56SsE2UBMpjpndeZ91hm87TP1oU6ANjQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body class="text-sm bg-gray-100">
    <script src="main.js" defer></script>
    
    <!-- Bannière d'en-tête -->
    <div class="border-b-2 p-2 flex items-center bg-white shadow-md">
        <!-- TinyGram -->
        <div class="font-bold text-gray-600 text-2xl ml-4 flex-grow text-left">
            <label class="cursor-pointer hover:text-red-500 ease-in-out duration-300">
                <a href="/">TinyGram</a>
            </label>
        </div>

        <!-- Ajouter un post -->
        <div class="font-medium text-gray-600 text-md mr-4 text-left">
            <label class="cursor-pointer hover:text-red-500 ease-in-out duration-300">
                <a href="/post.html">+ Ajouter un post</a>
            </label>
        </div>

        <!-- Btn Google -->
        <div class="g-signin2 mr-4" data-onsuccess="onSignIn" data-theme="dark"></div>
    </div>
	
    <div class="flex w-full">
		<div class="flex-grow"></div>
		<div class="w-2/3 flex flex-col text-left bg-white shadow border mt-12 p-4 rounded">
            <!-- Contenu d'en-tête -->
            <div>
                <div class="flex mb-4 border-b-2 pb-4">
                    <div class="flex-grow"></div>
                    <div>
                        <img src="https://cdn.pixabay.com/photo/2016/08/09/17/52/instagram-1581266_1280.jpg" alt="InstaLogo" style="width: 30px; height: 30px;">
                    </div>
                    <div class="text-gray-600 text-xl text-center">
                        Compte Utilisateur
                    </div>
                    <div class="flex-grow"></div>
                </div>
                
            </div>

            <div class="flex items-start">
                <div>
                    <!-- Logo Utilisateur -->
                    <div class="flex">
                        <div class="flex-grow"></div>
                        <div class="flex flex-col items-center text-center">
                            <img src="https://dummyimage.com/400x400/000/fff" class="mb-2 rounded-full shadow border" id="userimage" alt="InstaLogo" style="width: 150px; height: 150px;">
                            <label class="font-bold text-gray-700 text-2xl" id="username">NOM</label>
                            <label class="font-medium text-gray-500 text-lg" id="useremail">email</label>
                        </div>
                        <div class="flex-grow"></div>
                    </div>
        
                    <!-- Bouton de post -->
                    <div
                        class="mt-4 text-center border-1 border-gray- text-gray-600 hover hover:bg-red-400 hover:border-blue-400 bg-white rounded shadow hover:text-white p-2 cursor-pointer font-medium duration-300 ease-in-out"
                        onclick="User.logout()"
                    >
                        Déconnexion
                    </div>
                </div>

                <!-- Liste des nouveaux posts dans des composants-->
                <div class="flex flex-grow">
                    <div class="flex-grow"></div>
                    <div id="new-posts" class="p-4 flex flex-col flex-grow w-full"></div>
                    <div class="flex-grow"></div>
                </div>
            </div>
            

		</div>
		<div class="flex-grow"></div>
	</div>

    <!-- Bannière de footer -->
    <div class="text-center font-medium text-gray-500">©UNantes - UFR Sciences et Techniques - WebAndCloud - TinyGram</div>

    <!-- Mise à jour des informations de compte -->
    <script defer>
        var user = JSON.parse(sessionStorage.getItem("user"));
        document.getElementById("userimage").src = user.url;
        document.getElementById("username").innerHTML = user.name;
        document.getElementById("useremail").innerHTML = user.email;
        setTimeout(() => View.listUserNewPosts(), 100)
    </script>

</body>
</html>